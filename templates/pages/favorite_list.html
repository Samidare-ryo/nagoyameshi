{# templates/favorite/favorite_list.html #}
{% extends "base.html" %}

{% block main %}
<div class="max-w-4xl mx-auto my-10 px-4">

  <h1 class="text-3xl font-bold mb-6">お気に入り店舗一覧</h1>

  {% if favorites %}
    <div class="space-y-6">
      {% for fav in favorites %}
        <div class="bg-accent1/20 p-4 rounded-lg shadow flex justify-between items-center">
          <div>
            <h2 class="text-xl font-semibold text-accent2">{{ fav.restaurant_name }}</h2>
            <p class="mt-1 text-gray-500 text-sm">登録日: {{ fav.created_at|date:"Y/m/d H:i" }}</p>
          </div>
          <div class="flex gap-2 mt-0">
            <!-- 詳細ボタン -->
            <a href="{% url 'restaurant_detail' fav.restaurant_id %}"
               class="px-4 py-2 rounded-lg bg-accent2 text-white text-sm font-semibold shadow hover:bg-accent2/80 transition">
               詳細
            </a>
            <!-- 詳細ボタン -->
            <form method="post" action="{% url 'favorite_toggle' fav.restaurant_id %}">
                {% csrf_token %}
                <button type="submit"
                    class="px-4 py-2 rounded-lg bg-red-500 text-white text-sm font-semibold shadow hover:bg-red-600 transition">
                お気に入り解除
                </button>
            </form>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-center text-gray-500">お気に入り登録した店舗はまだありません。</p>
  {% endif %}

  <div class="mt-6 text-center">
    <a href="{% url 'restaurant_list' %}"
       class="inline-block px-6 py-2 rounded-lg bg-accent2 text-white font-semibold shadow hover:bg-accent2/80 transition">
       店舗一覧へ戻る
    </a>
  </div>

</div>
{% endblock %}
