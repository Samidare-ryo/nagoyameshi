{# templates/pages/subscribe.html #}
{% extends "base.html" %}

{% block main %}
<div class="max-w-4xl mx-auto my-10 px-4">

  <h1 class="text-3xl font-bold mb-6 text-accent2">サブスク契約</h1>

  <!-- 成功 / エラーメッセージ -->
  {% if messages %}
    {% for message in messages %}
      <div class="mb-4 px-4 py-2 rounded-lg {% if message.tags == 'success' %}bg-blue-100 text-blue-800{% elif message.tags == 'error' %}bg-red-100 text-red-800{% endif %}">
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}

  <div class="bg-blue-50 p-6 rounded-lg shadow mb-6">
    <p class="text-gray-700 mb-2">
      サブスク契約を行うと、予約の優先利用や特典が利用可能になります。
    </p>
    <p class="text-gray-700">
      契約期間: <span class="font-semibold text-accent2">1ヶ月</span><br>
      月額料金: <span class="font-semibold text-accent2">¥300{{ subscription_fee }}</span>
    </p>
  </div>

  <form method="post">
    {% csrf_token %}
    
    <!-- 契約期間固定 -->
    <input type="hidden" name="months" value="1">

    <!-- ボタン -->
    <div class="flex gap-2">
      <button type="submit" class="bg-accent2 text-white px-4 py-2 rounded-lg shadow hover:bg-accent2/80 transition">
        契約する
      </button>
      <a href="pages/mypage/" class="border border-gray-500 text-gray-500 px-4 py-2 rounded-lg shadow hover:bg-gray-500 hover:text-white transition">
        キャンセル
      </a>
    </div>
  </form>

</div>
{% endblock %}
